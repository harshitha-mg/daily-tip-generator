<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Daily Inspiration for {{ task }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;500;600&display=swap');

    body {
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      margin: 0;
      background: linear-gradient(125deg, #4158D0, #C850C0, #FFCC70);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      position: relative;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(14px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      border-radius: 1.5rem;
      padding: 2rem;
      transition: all 0.5s ease;
      position: relative;
      overflow: hidden;
    }

    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .glass-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      transition: 0.5s;
    }

    .glass-card:hover::before {
      left: 100%;
    }

    .quote-box {
      font-family: 'Playfair Display', serif;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .quote-author {
      font-style: italic;
      font-family: 'Playfair Display', serif;
    }

    .fade-up {
      opacity: 0;
      transform: translateY(30px);
      transition: all 1s ease;
    }

    .fade-up.active {
      opacity: 1;
      transform: translateY(0);
    }

    .gradient-line {
      height: 4px;
      width: 80px;
      background: linear-gradient(to right, #8b5cf6, #ec4899);
      border-radius: 9999px;
      margin: 1rem auto;
    }

    .card-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #ffffff;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .floating {
      animation: floating 3s ease-in-out infinite;
    }

    @keyframes floating {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      opacity: 0.6;
      pointer-events: none;
    }

    .task-display {
      position: relative;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      padding: 0.75rem 2rem;
      border-radius: 9999px;
      color: white;
      font-weight: 500;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      margin-bottom: 2rem;
      text-align: center;
    }

    .icon-badge {
      position: absolute;
      top: -10px;
      right: -10px;
      background: linear-gradient(45deg, #8b5cf6, #ec4899);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
    }

    .action-btn {
      background: linear-gradient(45deg, #8b5cf6, #ec4899);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      text-decoration: none;
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
    }

    .sparkle {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background-color: white;
      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
      animation: sparkle 2s linear infinite;
      opacity: 0;
    }

    @keyframes sparkle {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1); opacity: 1; }
      100% { transform: scale(0); opacity: 0; }
    }
    
    .mood-tracker {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(14px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 1.5rem;
      padding: 1.5rem;
      width: 100%;
      max-width: 5xl;
    }

    .mood-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .mood-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 9999px;
      padding: 0.5rem;
      width: 3.5rem;
      height: 3.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.75rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .mood-btn:hover {
      transform: scale(1.1);
      background: rgba(255, 255, 255, 0.2);
    }

    .mood-btn.selected {
      background: rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
      transform: scale(1.1);
    }
    
    .mood-message {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 1rem;
      padding: 1rem;
      margin-top: 1.5rem;
      text-align: center;
      min-height: 5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.5s ease;
    }
    
    .date-display {
      position: absolute;
      top: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      padding: 0.5rem 1.5rem;
      border-radius: 9999px;
      color: white;
      font-weight: 500;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <!-- Animated background particles -->
  <div id="particles"></div>
  
  <!-- Date display -->
  <div class="date-display fade-up" id="current-date">Today's Date</div>

  <!-- Task display -->
  <div class="task-display fade-up text-xl md:text-2xl">
    <span class="floating mr-2">‚ú®</span>
    Inspiration for: {{ task }}
    <span class="floating ml-2">‚ú®</span>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl w-full">
    <!-- Tip Box -->
    <div class="glass-card fade-up relative">
      <div class="icon-badge">üí°</div>
      <div class="card-title">
        <span class="floating">üí°</span> Daily Tip
      </div>
      <p class="text-white text-lg md:text-xl leading-relaxed">{{ tip }}</p>
      <div class="gradient-line"></div>
    </div>

    <!-- Quote Box -->
    <div class="glass-card fade-up quote-box relative">
      <div class="icon-badge">üåü</div>
      <div class="card-title">
        <span class="floating">üìù</span> Inspirational Quote
      </div>
      <p class="text-white text-2xl md:text-3xl font-semibold mb-6">"{{ quote }}"</p>
      {% if author %}
      <p class="quote-author text-white text-right text-lg md:text-xl">‚Äî {{ author }}</p>
      {% endif %}
      <div class="gradient-line"></div>
    </div>
    
    <!-- Mood Tracker -->
    <div class="glass-card fade-up col-span-1 md:col-span-2 relative">
      <div class="icon-badge">üòä</div>
      <div class="card-title">
        <span class="floating">üåà</span> Today's Mood Tracker
      </div>
      <p class="text-white text-lg mb-4">How are you feeling today?</p>
      <div class="mood-buttons">
        <div class="mood-btn" data-mood="amazing">üòÅ</div>
        <div class="mood-btn" data-mood="happy">üòä</div>
        <div class="mood-btn" data-mood="good">üôÇ</div>
        <div class="mood-btn" data-mood="okay">üòê</div>
        <div class="mood-btn" data-mood="meh">üòï</div>
        <div class="mood-btn" data-mood="sad">üòî</div>
        <div class="mood-btn" data-mood="tired">üò¥</div>
      </div>
      <div class="mood-message">
        <p class="text-white text-lg" id="mood-message">Select your mood to get a personalized message</p>
      </div>
    </div>
  </div>

  <!-- Back button -->
  <div class="mt-8 fade-up">
    <a href="/" class="action-btn">
      <span class="mr-2">‚Üê</span> Back to Tasks
    </a>
  </div>

  <script>
    // Current date
    function updateDate() {
      const now = new Date();
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);
    }
    
    // Animate on load
    window.addEventListener('DOMContentLoaded', () => {
      updateDate();
      
      document.querySelectorAll('.fade-up').forEach((el, i) => {
        setTimeout(() => {
          el.classList.add('active');
        }, i * 300);
      });
      
      // Create background particles
      createParticles();
      
      // Create sparkles
      createSparkles();
    });
    
    // Create floating particles
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const colors = ['#8b5cf6', '#ec4899', '#ffffff', '#c4b5fd', '#f9a8d4'];
      
      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        // Random properties
        const size = Math.random() * 10 + 5;
        const color = colors[Math.floor(Math.random() * colors.length)];
        
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.background = color;
        particle.style.left = `${Math.random() * 100}vw`;
        particle.style.top = `${Math.random() * 100}vh`;
        
        // Animation
        particle.style.animation = `floating ${Math.random() * 6 + 4}s ease-in-out infinite`;
        particle.style.animationDelay = `${Math.random() * 5}s`;
        
        particlesContainer.appendChild(particle);
      }
    }
    
    // Create sparkle effects
    function createSparkles() {
      const cards = document.querySelectorAll('.glass-card');
      
      cards.forEach(card => {
        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            
            // Position randomly within the card
            const x = Math.random() * card.offsetWidth;
            const y = Math.random() * card.offsetHeight;
            
            sparkle.style.left = `${x}px`;
            sparkle.style.top = `${y}px`;
            sparkle.style.animationDelay = `${Math.random() * 2}s`;
            
            card.appendChild(sparkle);
            
            // Remove after animation completes
            setTimeout(() => {
              sparkle.remove();
            }, 2000);
          }, i * 3000); // Create a new sparkle every 3 seconds
        }
      });
      
      // Continue creating sparkles
      setInterval(createSparkles, 15000);
    }
    
    // Mood messages - multiple messages for each mood
    const moodMessages = {
      amazing: [
        "That's fantastic! Your positive energy will help you accomplish great things today!",
        "Wonderful! When you're feeling this good, share your energy with others around you!",
        "Amazing! This is the perfect time to tackle that challenging task you've been putting off.",
        "Brilliant! Your positive mindset will make today exceptionally productive."
      ],
      happy: [
        "Happiness looks gorgeous on you! Keep that smile shining bright!",
        "Your happy energy is contagious - spread it wherever you go today!",
        "A happy heart makes for a productive mind. You're set up for success today!",
        "That happiness is your superpower today. Use it wisely!"
      ],
      good: [
        "Great to hear you're doing well! Keep that positive momentum going!",
        "Good moods create good outcomes. You're on the right track!",
        "Feeling good is the first step to doing good. What will you accomplish today?",
        "A good mood is the perfect foundation for a productive day ahead."
      ],
      okay: [
        "Sometimes okay is perfectly fine. Take things one step at a time today.",
        "Okay is a good starting point. You can build from here!",
        "Being okay means you have balance. Use that stability to your advantage.",
        "Okay days often turn into great days with just a little push in the right direction."
      ],
      meh: [
        "Everyone has those 'meh' days. Be gentle with yourself and do something that brings you joy.",
        "When feeling 'meh', focus on small wins to build momentum.",
        "A 'meh' mood is just a temporary state. It will pass with time.",
        "Try changing your environment or taking a short walk to shift your energy."
      ],
      sad: [
        "I'm sorry you're feeling down. Remember that this feeling is temporary and tomorrow is a new day.",
        "It's okay to feel sad sometimes. Honor your emotions but don't let them define your day.",
        "Sadness is part of being human. Reach out to someone who makes you feel supported.",
        "On sad days, be extra kind to yourself. What small comfort can you give yourself today?"
      ],
      tired: [
        "Listen to your body when you're tired. Maybe you need more rest today.",
        "Being tired is your body's way of asking for a break. Can you find time for a short nap?",
        "Even when tired, focus on one small task at a time. Progress is still progress.",
        "Tiredness is temporary. Prioritize self-care today and you'll bounce back stronger."
      ]
    };
    
    // Mood buttons
    document.querySelectorAll('.mood-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        // Remove selected class from all buttons
        document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('selected'));
        
        // Add selected class to clicked button
        this.classList.add('selected');
        
        // Update message
        const mood = this.getAttribute('data-mood');
        const messageElement = document.getElementById('mood-message');
        const messages = moodMessages[mood];
        
        // Select a random message for this mood
        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        
        // Animate the message change
        messageElement.style.opacity = 0;
        setTimeout(() => {
          messageElement.textContent = randomMessage;
          messageElement.style.opacity = 1;
        }, 300);
        
        // Save mood to localStorage
        localStorage.setItem('lastMood', mood);
        localStorage.setItem('lastMoodTime', new Date().getTime());
      });
    });
    
    // Check if user selected a mood recently (within the last 24 hours)
    const lastMood = localStorage.getItem('lastMood');
    const lastMoodTime = localStorage.getItem('lastMoodTime');
    const now = new Date().getTime();
    const oneDayMs = 24 * 60 * 60 * 1000;
    
    if (lastMood && lastMoodTime && (now - lastMoodTime < oneDayMs)) {
      // Auto-select the last mood if it was within 24 hours
      const moodBtn = document.querySelector(`.mood-btn[data-mood="${lastMood}"]`);
      if (moodBtn) {
        setTimeout(() => {
          moodBtn.click();
        }, 1500); // Wait a bit after page load for a better UX
      }
    }
  </script>
</body>
</html>